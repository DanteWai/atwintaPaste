{"version":3,"file":"js/view-Pastes-PublicPastes-vue.js","mappings":"8vBAKA,E,mBC6BA,IAAMA,GAAS,QAAI,IACbC,GAAO,QAAI,MACXC,GAAQ,QAAI,M,SAEHC,EAAU,G,iEAAzB,WAAyBC,GAAzB,0FAC8B,QAAgBA,GAD9C,gBACSC,EADT,EACSA,KADT,EACeC,QAGPN,EAAOO,MAAQF,EAAKA,KACpBJ,EAAKM,MAAQF,EAAKJ,KAClBC,EAAMK,MAAQF,EAAKH,OAN3B,4C,sBAUAC,IAEA,IAAMK,EAAW,WAAM,OAChB,UAAAP,EAAKM,aAAL,eAAYE,cAAe,GAC1BN,EAAUF,EAAKM,MAAME,aAAc,IAIrCC,EAAW,WAAM,SAChB,UAAAT,EAAKM,aAAL,eAAYE,eAAZ,UAA2BR,EAAKM,aAAhC,aAA2B,EAAYI,YACtCR,EAAUF,EAAKM,MAAME,aAAe,I","sources":["webpack:///./resources/src/views/Pastes/PublicPastes.vue?4359","webpack:///./resources/src/views/Pastes/PublicPastes.vue"],"sourcesContent":["import script from \"./PublicPastes.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PublicPastes.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <page-layout title=\"Public pastes\">\n        <table class=\"pastes\">\n            <thead>\n                <tr>\n                    <td>Name / title</td>\n                    <td>Posted</td>\n                    <td>Syntax</td>\n                </tr>\n            </thead>\n            <tbody>\n                <tr class=\"pastes__item\"  v-for=\"p in pastes\">\n                    <td><router-link class=\"pastes__link\" :to=\"{name:'PasteView', params:{slug:p.slug}}\" >{{p.title}}</router-link></td>\n                    <td>{{date.format(new Date(p.created_at), 'YY-MM-DD')}}</td>\n                    <td>{{p.lang?.title || 'raw'}}</td>\n                </tr>\n            </tbody>\n        </table>\n        <div class=\"pastes-nav\" v-if=\"meta\">\n            <button class=\"btn\" @click=\"prevPage\" type=\"button\" :disabled=\"meta?.current_page === 1\">Prev</button>\n            <button class=\"btn right\" @click=\"nextPage\" type=\"button\" :disabled=\"meta?.current_page === meta.last_page\">Next</button>\n            <div class=\"page-info\">Page {{meta?.current_page}} of {{meta?.last_page}}</div>\n        </div>\n    </page-layout>\n\n\n</template>\n\n<script setup>\nimport PageLayout from \"../../layout/PageLayout\";\nimport {getPublicPastes} from \"../../composables/usePaste\";\nimport {ref} from \"vue\";\nimport date from 'date-and-time'\n\nconst pastes = ref([])\nconst meta = ref(null)\nconst links = ref(null)\n\nasync function getPublic(page){\n    let {data, error} = await getPublicPastes(page)\n\n    if(!error){\n        pastes.value = data.data\n        meta.value = data.meta\n        links.value = data.links\n    }\n}\n\ngetPublic()\n\nconst prevPage = () => {\n    if(meta.value?.current_page > 1){\n        getPublic(meta.value.current_page -1)\n    }\n}\n\nconst nextPage = () => {\n    if(meta.value?.current_page < meta.value?.last_page){\n        getPublic(meta.value.current_page + 1)\n    }\n}\n</script>\n"],"names":["pastes","meta","links","getPublic","page","data","error","value","prevPage","current_page","nextPage","last_page"],"sourceRoot":""}