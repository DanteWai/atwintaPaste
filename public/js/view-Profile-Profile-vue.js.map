{"version":3,"file":"js/view-Profile-Profile-vue.js","mappings":"iyBAKA,E,mBCsCA,IAAMA,GAAS,UAETC,GAAS,QAAI,IACbC,GAAO,QAAI,MACXC,GAAQ,QAAI,M,SAEHC,EAAW,G,iEAA1B,WAA0BC,GAA1B,0FAC8B,QAAcA,GAD5C,gBACSC,EADT,EACSA,KADT,EACeC,QAGPN,EAAOO,MAAQF,EAAKA,KACpBJ,EAAKM,MAAQF,EAAKJ,KAClBC,EAAMK,MAAQF,EAAKH,OAN3B,4C,sBAUAC,IAEA,IAAMK,EAAW,WAAM,OAChB,UAAAP,EAAKM,aAAL,eAAYE,cAAe,GAC1BN,EAAWF,EAAKM,MAAME,aAAc,IAItCC,EAAW,WAAM,SAChB,UAAAT,EAAKM,aAAL,eAAYE,eAAZ,UAA2BR,EAAKM,aAAhC,aAA2B,EAAYI,YACtCR,EAAWF,EAAKM,MAAME,aAAe,IAIvCG,EAAM,6BAAG,+FACL,UADK,uBAELb,EAAOc,KAAK,KAFP,2CAAH,qD","sources":["webpack:///./resources/src/views/Profile/Profile.vue?04f8","webpack:///./resources/src/views/Profile/Profile.vue"],"sourcesContent":["import script from \"./Profile.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <page-layout title=\"My profile\">\n        <div>\n            <a @click.prevent=\"logout\" href=\"#\">logout</a>\n        </div>\n        <table class=\"pastes\">\n            <thead>\n            <tr>\n                <td>Name / title</td>\n                <td>Posted</td>\n                <td>Syntax</td>\n            </tr>\n            </thead>\n            <tbody>\n            <tr class=\"pastes__item\" v-for=\"p in pastes\">\n                <td>\n                    <router-link class=\"pastes__link\" :to=\"{name:'PasteView', params:{slug:p.slug}}\">{{ p.title }}\n                    </router-link>\n                </td>\n                <td>{{ date.format(new Date(p.created_at), 'YY-MM-DD') }}</td>\n                <td>{{ p.lang?.title || 'raw' }}</td>\n            </tr>\n            </tbody>\n        </table>\n        <div class=\"pastes-nav\" v-if=\"meta\">\n            <button class=\"btn\" @click=\"prevPage\" type=\"button\" :disabled=\"meta?.current_page === 1\">Prev</button>\n            <button class=\"btn right\" @click=\"nextPage\" type=\"button\" :disabled=\"meta?.current_page === meta.last_page\">\n                Next\n            </button>\n            <div class=\"page-info\">Page {{ meta?.current_page }} of {{ meta?.last_page }}</div>\n        </div>\n\n    </page-layout>\n</template>\n\n<script setup>\nimport {userLogOut} from \"../../composables/useUser\";\nimport {useRouter} from \"vue-router\";\nimport PageLayout from \"../../layout/PageLayout\";\nimport {getUserPastes} from \"../../composables/usePaste\";\nimport {ref} from \"vue\";\nimport date from 'date-and-time'\n\nconst router = useRouter()\n\nconst pastes = ref([])\nconst meta = ref(null)\nconst links = ref(null)\n\nasync function getPrivate(page) {\n    let {data, error} = await getUserPastes(page)\n\n    if (!error) {\n        pastes.value = data.data\n        meta.value = data.meta\n        links.value = data.links\n    }\n}\n\ngetPrivate()\n\nconst prevPage = () => {\n    if(meta.value?.current_page > 1){\n        getPrivate(meta.value.current_page -1)\n    }\n}\n\nconst nextPage = () => {\n    if(meta.value?.current_page < meta.value?.last_page){\n        getPrivate(meta.value.current_page + 1)\n    }\n}\n\nconst logout = async () => {\n    await userLogOut()\n    await router.push('/')\n}\n\n\n</script>\n\n"],"names":["router","pastes","meta","links","getPrivate","page","data","error","value","prevPage","current_page","nextPage","last_page","logout","push"],"sourceRoot":""}